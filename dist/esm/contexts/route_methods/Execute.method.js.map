{"version":3,"file":"Execute.method.js","sources":["../../../../src/contexts/route_methods/Execute.method.js"],"sourcesContent":["import kleur from \"kleur\"\r\nimport Logger from \"../../helpers/Logger.js\"\r\n\r\nconst createExecute = (ctx) => {\r\n    return (name, data) => {\r\n\r\n        const services = ctx.getAllComponents('service')\r\n        const service = services.find(s => s.name === name)\r\n\r\n        if(!service) return Logger(`Could not find service (name: ${kleur.blue().bold(name)})`, 'service')\r\n\r\n        try { \r\n            return service.handler(data)\r\n        } catch(err) {\r\n            const exception = service.exceptions[err.message] || service.exceptions['*']\r\n            if(!exception) {\r\n                throw new Error(err)\r\n            } else {\r\n                return exception(err, data)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default createExecute"],"names":["kleur"],"mappings":";;;AAGK,MAAC,aAAa,GAAG,CAAC,GAAG,KAAK;AAC/B,IAAI,OAAO,CAAC,IAAI,EAAE,IAAI,KAAK;AAC3B;AACA,QAAQ,MAAM,QAAQ,GAAG,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAC;AACxD,QAAQ,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,EAAC;AAC3D;AACA,QAAQ,GAAG,CAAC,OAAO,EAAE,OAAO,MAAM,CAAC,CAAC,8BAA8B,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC;AAC1G;AACA,QAAQ,IAAI;AACZ,YAAY,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;AACxC,SAAS,CAAC,MAAM,GAAG,EAAE;AACrB,YAAY,MAAM,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,EAAC;AACxF,YAAY,GAAG,CAAC,SAAS,EAAE;AAC3B,gBAAgB,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC;AACpC,aAAa,MAAM;AACnB,gBAAgB,OAAO,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC;AAC3C,aAAa;AACb,SAAS;AACT,KAAK;AACL;;;;"}