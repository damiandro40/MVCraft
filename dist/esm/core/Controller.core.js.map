{"version":3,"file":"Controller.core.js","sources":["../../../src/core/Controller.core.js"],"sourcesContent":["import createEndpoint from \"./controller_methods/Endpoint.method.js\"\r\nimport createHandle from \"./controller_methods/Handle.method.js\"\r\nimport createOptions from \"./controller_methods/Options.method.js\"\r\nimport createBuild from \"./controller_methods/Build.method.js\"\r\n\r\n/**\r\n * @typedef {Object} Content\r\n * @property {string} path\r\n * @property {string} method\r\n * @property {object | null} query\r\n * @property {object | null} params\r\n * @property {object | null} body\r\n * @property {object} headers\r\n * @property {object} cookies\r\n */\r\n\r\n/**\r\n * @typedef {Object} Methods\r\n * @property {(statusCode: number) => void} Status\r\n * @property {(name: string, value: string) => void} Header\r\n * @property {(data: any) => void} Response\r\n * @property {() => Content} Content\r\n * @property {(name: string, data: any) => any} Execute\r\n * @property {(path: string) => void} Next\r\n * @property {(name: string, value: string, options: {\r\n *      maxAge: number,\r\n *      expires: Date,\r\n *      path: string,\r\n *      domain: string,\r\n *      httpOnly: boolean,\r\n *      secure: boolean,\r\n *      sameSite: string\r\n * }) => void} SetCookie\r\n */\r\n\r\n/**\r\n * @typedef {\"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\" | \"*\"} HttpMethod\r\n * @typedef {(methods: Methods) => void} Handler\r\n */\r\n\r\n/**\r\n * @param {string} path \r\n * @param {HttpMethod} method \r\n * @param {Handler?} handler \r\n * @returns {{\r\n *      Endpoint: (path: string, method: HttpMethod, handler: Handler),\r\n *      Handle: (exception: string, handler: (methods: Methods, err: Error) => void) => void,\r\n *      Options: (options: {\r\n *          maxBodySize: number\r\n *      }) => void,\r\n *      Build: () => object[]\r\n * }}\r\n */\r\n\r\nconst Controller = (path, method, handler) => {\r\n\r\n    const ctx = {\r\n        endpoints: [],\r\n        exceptions: {},\r\n        options: {}\r\n    }\r\n\r\n    return {\r\n        Endpoint: createEndpoint(ctx, { path, method, handler }),\r\n        Handle: createHandle(ctx, { path, method, handler }),\r\n        Options: createOptions(ctx, { path, method, handler }),\r\n        Build: createBuild(ctx, { path, method, handler })\r\n    }\r\n\r\n}\r\n\r\nexport default Controller"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK,MAAC,UAAU,GAAG,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,KAAK;AAC9C;AACA,IAAI,MAAM,GAAG,GAAG;AAChB,QAAQ,SAAS,EAAE,EAAE;AACrB,QAAQ,UAAU,EAAE,EAAE;AACtB,QAAQ,OAAO,EAAE,EAAE;AACnB,MAAK;AACL;AACA,IAAI,OAAO;AACX,QAAQ,QAAQ,EAAE,cAAc,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,MAAgB,CAAC,CAAC;AAChE,QAAQ,MAAM,EAAE,YAAY,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,MAAgB,CAAC,CAAC;AAC5D,QAAQ,OAAO,EAAE,aAAa,CAAC,GAA8B,CAAC;AAC9D,QAAQ,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC;AAC1D,KAAK;AACL;AACA;;;;"}