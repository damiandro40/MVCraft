{"version":3,"file":"Endpoint.method.js","sources":["../../../../src/core/controller_methods/Endpoint.method.js"],"sourcesContent":["import kleur from \"kleur\"\r\nimport Logger from \"../../helpers/Logger.js\"\r\n\r\nconst createEndpoint = (ctx, ctrl) => {\r\n\r\n    return (path, method, handler) => {\r\n        if(ctrl.method !== '*' && method !== ctrl.method) {\r\n            return Logger(`Controller (path: ${kleur.blue().bold(ctrl.path)}, method: ${kleur.blue().bold(ctrl.method)}) cannot include endpoint that handles method (${kleur.blue().bold(method)})`, 'controller')\r\n        }\r\n\r\n        if(ctx.endpoints.find(e => e.path === path && e.method === method)) {\r\n            return Logger(`Endpoint (path: ${kleur.blue().bold(path)}, method: ${kleur.blue().bold(method)}) has already been declared for controller (path: ${kleur.blue().bold(ctrl.path)}, method: ${kleur.blue().bold(ctrl.method)})`)\r\n        }\r\n\r\n        ctx.endpoints.push({ path, method, handler })\r\n    }\r\n\r\n}\r\n\r\nexport default createEndpoint"],"names":["kleur"],"mappings":";;;AAGK,MAAC,cAAc,GAAG,CAAC,GAAG,EAAE,IAAI,KAAK;AACtC;AACA,IAAI,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,KAAK;AACtC,QAAQ,GAAG,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;AAC1D,YAAY,OAAO,MAAM,CAAC,CAAC,kBAAkB,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,+CAA+C,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC;AACnN,SAAS;AACT;AACA,QAAQ,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE;AAC5E,YAAY,OAAO,MAAM,CAAC,CAAC,gBAAgB,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,kDAAkD,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAEA,CAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1O,SAAS;AACT;AACA,QAAQ,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,EAAC;AACrD,KAAK;AACL;AACA;;;;"}